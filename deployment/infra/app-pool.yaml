apiVersion: karpenter.sh/v1beta1
kind: NodePool
metadata:
  annotations:
    karpenter.sh/nodepool-hash: "10922345096826524241"
    karpenter.sh/nodepool-hash-version: v2
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"karpenter.sh/v1beta1","kind":"NodePool","metadata":{"annotations":{},"name":"appnodepool"},"spec":{"disruption":{"budgets":[{"nodes":"100%"}],"consolidationPolicy":"WhenUnderutilized","expireAfter":"Never"},"template":{"spec":{"nodeClassRef":{"name":"appnodepool"},"requirements":[{"key":"kubernetes.io/arch","operator":"In","values":["amd64"]},{"key":"kubernetes.io/os","operator":"In","values":["linux"]},{"key":"karpenter.sh/capacity-type","operator":"In","values":["on-demand"]},{"key":"karpenter.azure.com/sku-family","operator":"In","values":["D"]},{"key":"karpenter.azure.com/sku-name","operator":"In","values":["Standard_D2as_v5","Standard_D4as_v5","Standard_D8as_v5","Standard_D16as_v5","Standard_D32as_v5"]}],"taints":[{"effect":"NoSchedule","key":"CriticalAddonsOnly","value":"true"},{"effect":"NoSchedule","key":"deployment","value":"aqs-app-pool"}]}}}}
  creationTimestamp: "2024-10-07T19:52:57Z"
  generation: 1
  name: appnodepool
  resourceVersion: "6999"
  uid: 69eac44f-55c2-47c3-8d42-0d4823f4ff98
spec:
  disruption:
    budgets:
    - nodes: 100%
    consolidationPolicy: WhenUnderutilized
    expireAfter: Never
  template:
    spec:
      nodeClassRef:
        name: appnodepool
      requirements:
      - key: kubernetes.io/arch
        operator: In
        values:
        - amd64
      - key: kubernetes.io/os
        operator: In
        values:
        - linux
      - key: karpenter.sh/capacity-type
        operator: In
        values:
        - on-demand
      - key: karpenter.azure.com/sku-family
        operator: In
        values:
        - D
      - key: karpenter.azure.com/sku-name
        operator: In
        values:
        - Standard_D2as_v5
        - Standard_D4as_v5
        - Standard_D8as_v5
        - Standard_D16as_v5
        - Standard_D32as_v5
      taints:
      - effect: NoSchedule
        key: CriticalAddonsOnly
        value: "true"
      - effect: NoSchedule
        key: deployment
        value: aqs-app-pool
